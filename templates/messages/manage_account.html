{% extends '../base.html' %}

{% block title %}Profil de {{ user.username }}{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="card p-8">
        <h2 class="text-2xl font-bold text-primary mb-6">Profil de {{ user.username }}</h2>
        <form method="post" enctype="multipart/form-data" class="space-y-6">
            {% csrf_token %}

            <div>
                <label for="username" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Pseudo :</label>
                <input type="text" name="username" id="username" value="{{ user.username }}" class="mt-1 block w-full rounded-md border-gray-300 bg-gray-100 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300" disabled>
            </div>

            <div>
                <label for="password" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Nouveau mot de passe :</label>
                <input type="password" name="password" id="password" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
            </div>

            <div>
                <label for="confirm_password" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Confirmer le mot de passe :</label>
                <input type="password" name="confirm_password" id="confirm_password" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
            </div>

            <div>
                <label for="photo" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Photo de profil :</label>
                {% if user.profile.photo %}
                    <img src="{{ user.profile.photo.url }}" alt="Photo de profil" class="h-20 w-20 rounded-full object-cover mt-2">
                {% else %}
                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Aucune photo de profil.</p>
                {% endif %}
                <input type="file" name="photo" id="photo" class="mt-1 block w-full text-sm text-gray-500 dark:text-gray-400
                    file:mr-4 file:py-2 file:px-4
                    file:rounded-full file:border-0
                    file:text-sm file:font-semibold
                    file:bg-primary file:text-white
                    hover:file:bg-primary-dark
                ">
            </div>

            <button type="submit" class="w-full btn-primary">
                Sauvegarder les modifications
            </button>
        </form>
    </div>
</div>
{% endblock %}
